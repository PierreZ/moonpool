[profile.default]
slow-timeout = { period = "1s", terminate-after = 2 }

# Show test output for hanging tests
failure-output = "immediate"
success-output = "never"

# Run tests in parallel
test-threads = "num-cpus"

# Slow simulation tests (using SimulationBuilder) get extra time
[[profile.default.overrides]]
filter = 'test(slow_simulation)'
slow-timeout = { period = "10m", terminate-after = 5 }

# Multi-node RPC tests may require network simulation time
[[profile.default.overrides]]
filter = 'test(multi_node_rpc)'
slow-timeout = { period = "30s", terminate-after = 3 }

# Actor simulation tests need more time under CPU contention
[[profile.default.overrides]]
filter = 'test(stateful_actors) | test(multi_node_actors)'
slow-timeout = { period = "30s", terminate-after = 3 }

# Connect failure tests with mode 2 can hang forever (FDB pattern)
[[profile.default.overrides]]
filter = 'test(connect_failure_random)'
slow-timeout = { period = "10s", terminate-after = 2 }

[profile.default.junit]
# Store test results
path = "target/nextest/default/junit.xml"
